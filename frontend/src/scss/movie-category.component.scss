@use 'variables' as *;

.movie-category {
    color: white;
    display: flex;
    flex-direction: column;
    padding: 0 2.5%; // Совпадает с отступом изображения в hero (95% ширины → 2.5% слева/справа)
    position: relative; // Нужно для позиционирования градиентных теней

    h2 {
        margin: 0 0 20px 10px; // Упрощаем запись margin
        padding-left: 10px;
        font-size: 1.5rem;
    }
    .movies {
        display: flex;
        gap: 20px;
        padding: 10px 0; // Убираем боковые padding для правильного позиционирования теней
        overflow-x: scroll;  // Включаем горизонтальную прокрутку
        scroll-behavior: smooth; // Плавная прокрутка
        -webkit-overflow-scrolling: touch; // Инерционный скролл для iOS
        flex-wrap: nowrap; // Запрещаем перенос на новую строку
        max-width: 100vw;
        margin-bottom: 20px;
        // Временное включение скроллбара для теста
        &::-webkit-scrollbar {
            display: block;
            height: 8px;
            background: rgba($bck-color, 0.3);
        }
        &::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        scrollbar-width: thin;
        scrollbar-color: #888 rgba($bck-color, 0.3);

        // Градиентные тени по краям
        &::before,
        &::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: -20px; // Учитываем отступ снизу
            width: 60px;
            z-index: 2;
            pointer-events: none; // Чтобы не блокировали взаимодействие
        }
        
        &::before {
            left: 0;
            background: linear-gradient(
                to right, 
                rgba($bck-color, 1) 30%, 
                rgba($bck-color, 0) 100%
            );
        }

        &::after {
            right: 0;
            background: linear-gradient(
                to left, 
                rgba($bck-color, 1) 30%, 
                rgba($bck-color, 0) 100%
            );
        }
        
    }
    .movie-card {
        flex: 0 0 auto; // Запрещаем сжатие/растяжение
        width: 400px; // Фиксированная ширина для карточек
        height: 250px;
        scroll-snap-align: start; // Для точного позиционирования при скролле
        transition: transform 0.3s ease;
        border-radius: 8px;
        overflow: hidden;
        position: relative;

        &:hover {
            transform: scale(1.05); // Эффект при наведении
            z-index: 1;
        }

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        // Адаптивность
        @media (max-width: 1200px) {
            width: 280px;
            height: 230px;
        }

        @media (max-width: 768px) {
            width: 250px;
            height: 200px;
        }

        @media (max-width: 480px) {
            width: 200px;
            height: 160px;
        }
    }
}